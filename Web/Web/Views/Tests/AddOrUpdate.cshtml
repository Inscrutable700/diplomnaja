@model Web.ViewModels.AddOrUpdateTestViewModel

@{
    ViewBag.Title = "AddOrUpdate";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<form class="form-horizontal" action="@Url.Action("AddOrUpdate", "Tests")" method="post">
    @if (Model.IsUpdate)
    {
        <input type="hidden" name="id" value="@Model.Test.ID" />
    }

    <div class="form-group">
        <label class="col-md-2 control-label">Academic Subject</label>
        <div class="col-md-10">
            @Html.DropDownList("academicSubjectID", Model.AcademicSubjects, new { @class = "form-control" })
        </div>
    </div>
    <div class="form-group">
        <label class="col-md-2 control-label">Name</label>
        <div class="col-md-10">
            <input class="form-control" name="Name" required value="@Model.Test.Name" />
        </div>
    </div>
    <div class="form-group">
        <label class="col-md-2 control-label">Description</label>
        <div class="col-md-10">
            <textarea class="form-control" name="Description" required>@Model.Test.Description</textarea>
        </div>
    </div>

    @if (Model.IsUpdate)
    {
        <input type="submit" class="btn-success" value="Update" />
    }
    else
    {
        <input type="submit" class="btn-success" value="Add" />
    }

</form>

<hr />

<a href="@Url.Action("AddOrUpdate", "Questions", new { testID = Model.Test.ID })" class="btn-success">Add new question</a>

<table class="table">
    <thead>
        <tr>
            <th>Question</th>
            <th>Available answers</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var question in Model.Questions)
        {
            <tr> 
                <td>@question.QuestionString</td>
                <td>Available answers</td>
                <td><a href="@Url.Action("AddOrUpdate", "Questions", new { id = question.ID })">Edit</a></td>
            </tr>
        }
    </tbody>
</table>